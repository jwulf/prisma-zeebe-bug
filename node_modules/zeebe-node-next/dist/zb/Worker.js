"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const uuid_1 = require("uuid");
function Worker(options) {
    const taskType = typeof options === 'string' ? options : options.taskType;
    const id = typeof options === 'string' ? uuid_1.v4() : options.id || uuid_1.v4();
    const workerOptions = typeof options === 'string' ? {} : options;
    return function (handler) {
        return function (zbc) {
            return zbc.createWorker(id, taskType, (job, complete) => {
                handler({
                    job,
                    success: complete.success,
                    failure: complete.failure,
                });
            }, workerOptions);
        };
    };
}
exports.Worker = Worker;
//# sourceMappingURL=Worker.js.map